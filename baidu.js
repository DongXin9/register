$(function(){var t=$("#TANGRAM__PSP_4__userName"),s=$("#TANGRAM__PSP_4__phone"),e=$("#TANGRAM__PSP_4__password"),_=$("#TANGRAM__PSP_4__verifyCode"),a=$("#TANGRAM__PSP_4__submit"),r=$("#TANGRAM__PSP_4__verifyCodeSend");function l(t){var e=$(t),_=$(t+"Error"),s=$(t+"Tip"),a=$(t+"Succ");return"#TANGRAM__PSP_4__phone"===t?/^1[3456789]\d{9}$/.test(e.val())?(_.attr("style","display: none;"),e.removeClass("texterror"),a.attr("style","display:inline"),1):(_.attr("style","display: inline;"),e.addClass("texterror"),a.attr("style","display: none"),void _.html("手机号格式不正确")):"#TANGRAM__PSP_4__password"===t?/(?!^[0-9]+$)(?!^[A-z]+$)(?!^[^A-z0-9]+$)^[^\s\u4e00-\u9fa5]{8,14}$/.test(e.val())?(_.attr("style","display: none;"),e.removeClass("texterror"),s.attr("style","display:none"),a.attr("style","display:inline"),1):(_.attr("style","display: inline;"),e.addClass("texterror"),_.html("密码设置不符合要求"),s.attr("style","display:none"),void a.attr("style","display:none")):"#TANGRAM__PSP_4__verifyCode"===t&&(""===e.val()?(_.attr("style","display: inline;"),e.addClass("texterror"),void _.html("请求超时，请稍后再试")):(_.attr("style","display: none;"),e.removeClass("texterror"),1))}function n(t){var e,_=$(t),s=$(t+"Error"),a=$(t+"Tip"),r=$(t+"Succ"),l=0;e=_.val();for(var n=0;n<e.length&&(/[\u4E00-\u9FA5]/.test(e[n])?l+=2:l+=1,!(14<l));n++);return/(?!\d+$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(_.val())?14<l?(s.attr("style","display: inline;"),_.addClass("texterror"),s.html("用户名不能超过14个字符或者7个汉字"),a.attr("style","display:none"),void r.attr("style","display: none")):(s.attr("style","display: none;"),_.removeClass("texterror"),a.attr("style","display:none"),r.attr("style","display: inline"),1):(s.attr("style","display: inline;"),_.addClass("texterror"),s.html("用户名仅支持中英文、数字和下划线,且不能为纯数字"),a.attr("style","display:none"),void r.attr("style","display: none"))}a.click(function(){return n("#TANGRAM__PSP_4__userName")?l("#TANGRAM__PSP_4__phone")?l("#TANGRAM__PSP_4__password")?l("#TANGRAM__PSP_4__verifyCode")?(alert("表单已提交"),!0):(_.select(),!1):(e.select(),!1):(s.select(),!1):(t.select(),!1)}),r.click(function(){var t,e=$("#TANGRAM__PSP_4__verifyCodeSend"),_=60;if(!l("#TANGRAM__PSP_4__phone"))return s.select(),!1;t=setInterval(function(){0===--_?(clearInterval(t),e.val("获取验证码"),e.removeAttr("disabled"),e.attr("class","passbutton")):(e.val("重发验证（"+_+"s）"),e.attr("disabled","disabled"),e.attr("class","waitbutton"))},1e3)}),t.focusout(function(){n("#TANGRAM__PSP_4__userName")}),t.focusin(function(){$("#TANGRAM__PSP_4__userNameTip").attr("style","")}),s.focusout(function(){l("#TANGRAM__PSP_4__phone")}),e.focusout(function(){l("#TANGRAM__PSP_4__password")}),e.focusin(function(){$("#TANGRAM__PSP_4__passwordTip").attr("style",""),$("#TANGRAM__PSP_4__passwordSucc").attr("style","display:none"),$("#TANGRAM__PSP_4__newPwdTip").attr("style","display:inline")}),_.focusout(function(){l("#TANGRAM__PSP_4__verifyCode")})});